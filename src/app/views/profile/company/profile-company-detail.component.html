<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <h1>Detalles de perfil de estudiante</h1>
      <form [formGroup]="profileCompanyDetailForm" (ngSubmit)="save()">
        <h3>Datos personales</h3>

        <label> Nombre comercial:</label>
        <input
          type="text"
          formControlName="commercialname"
          class="form-control"
          name="commercialname"
          required
        />
        <div class="text-danger" *ngIf="f.commercialname.errors && f.commercialname.touched">
          <div *ngIf="f.commercialname.errors.required">
            Nombre comercial requerido.
          </div>
          <div *ngIf="f.commercialname.errors.pattern">
            No debe comenzar ni terminar en espacio, ni contener catacteres
            especiales.
          </div>
        </div>

        <label> Razón social:</label>
        <input
          type="text"
          formControlName="rs"
          class="form-control"
          name="rs"
          required
        />
        <div class="text-danger" *ngIf="f.rs.errors && f.rs.touched">
          <div *ngIf="f.rs.errors.required">
            Razón social requerida.
          </div>
          <div *ngIf="f.rs.errors.pattern">
            No debe comenzar ni terminar en espacio, ni contener catacteres
            especiales.
          </div>
        </div>

        <label> CIF:</label>
        <input
          type="text"
          formControlName="cif"
          class="form-control"
          name="avatar"
        />

        <div formGroupName="addressgroup">

          <h3>Dirección</h3>
          <label> Dirección:</label>
          <input
            type="text"
            formControlName="address"
            class="form-control"
            name="address"
          />

          <label> Provincia:</label>
          <select formControlName="state" class="form-control" name="state">
            <option value="Bizkaia">Bizkaia</option>
            <option value="Gipuzkoa">Gipuzkoa</option>
            <option value="Araba">Araba</option>
          </select>

          <!--El desplegable de municipio posiblemente se pueda resolver con un ngfor recorriendo una lista en función de la selección de provincia. De momento unos valores fijos-->
          <label> Municipio:</label>
          <select formControlName="city" class="form-control" name="city">
            <option value="Bilbao">Bilbao</option>
            <option value="Donostia">Donostia</option>
            <option value="Gazteiz">Gazteiz</option>
          </select>
        </div>

        <div formGroupName="contact">
          <h3>Datos de contacto</h3>

          <label> Nombre y apellidos:</label>
          <input
            type="text"
            formControlName="name"
            class="form-control"
            name="name"
          />

          <label> Teléfono:</label>
          <input
            type="text"
            formControlName="phone"
            class="form-control"
            name="phone"
          />

          <label> Email:</label>
          <input
            type="text"
            formControlName="email"
            class="form-control"
            name="email"
          />
        </div>
        <button
          type="submit"
          class="btn"
          [disabled]="!profileCompanyDetailForm.valid"
        >
          Guardar
        </button>
        <p>Form Value: {{ profileCompanyDetailForm.value | json }}</p>
        <p>Form Status: {{ profileCompanyDetailForm.status }}</p>
      </form>
    </div>
  </div>
</div>
